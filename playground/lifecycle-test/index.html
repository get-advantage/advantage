<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Lifecycle & Disconnect Test</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
            body {
                font-family: system-ui, sans-serif;
            }
            .test-active {
                background-color: #e6fffa;
                border: 2px solid #38b2ac;
            } /* Visual indicator of active format */
            #stage {
                min-height: 200px;
                border: 2px dashed #cbd5e0;
                padding: 20px;
                margin-top: 20px;
            }
            #stage-2 {
                min-height: 200px;
                border: 2px dashed #ed8936;
                padding: 20px;
                margin-top: 20px;
            }
            .log-entry {
                font-family: monospace;
                border-bottom: 1px solid #eee;
                padding: 4px 0;
            }
        </style>
        <script type="module" src="./test.ts"></script>
    </head>
    <body class="p-8 bg-gray-50">
        <div class="max-w-4xl mx-auto">
            <h1 class="text-3xl font-bold mb-4">
                AdvantageWrapper Lifecycle Test
            </h1>
            <p class="mb-6 text-gray-600">
                Testing <code>disconnectedCallback</code> and
                <code>disconnectTimeout</code>.
                <br />
                The "TEST_FORMAT" adds a green background/border to the body
                when active.
            </p>

            <div class="flex gap-4 mb-6 flex-wrap">
                <button
                    id="btn-add"
                    class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded"
                >
                    Add Wrapper
                </button>
                <button
                    id="btn-remove"
                    class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded"
                >
                    Remove Wrapper
                </button>
                <button
                    id="btn-move"
                    class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded"
                >
                    Move Wrapper (Stage 1 -> Stage 2)
                </button>
                <button
                    id="btn-route"
                    class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded"
                >
                    Simulate Route Change (Clear All)
                </button>
            </div>

            <div class="grid grid-cols-2 gap-6">
                <div>
                    <h2 class="font-bold text-gray-700">Stage 1</h2>
                    <div id="stage"></div>
                </div>
                <div>
                    <h2 class="font-bold text-gray-700">Stage 2</h2>
                    <div id="stage-2"></div>
                </div>
            </div>

            <div class="mt-8">
                <h2 class="font-bold text-gray-700 mb-2">Event Log</h2>
                <div
                    id="logs"
                    class="bg-white border rounded h-64 overflow-y-auto p-4 text-sm"
                ></div>
            </div>
        </div>
    </body>
</html>
